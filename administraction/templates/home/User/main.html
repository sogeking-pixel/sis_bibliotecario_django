{% extends 'layouts/base.html' %} {% load static %} {% block title %} Tables {%endblock title %} 

{% block stylesheets %}
<link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.bootstrap4.css" />
{% endblock stylesheets %}

{% block content %}



<div class="header bg-primary pb-7">
  <div class="container-fluid ">
    <div class="header-body ">
      <div class="row align-items-center py-4 ">


        <div class="col-lg-6 col-7">
          <h6 class="h2 text-white d-inline-block mb-0">Gestion de Usuarios</h6>
          <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
            <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
              <li class="breadcrumb-item">
                <a href="{% url 'index'%}"><i class="fas fa-home"></i></a>
              </li>
              <li class="breadcrumb-item active" aria-current="page">Usuarios</li>
            </ol>
          </nav>
        </div>
        <div class="col-lg-6 col-5 text-right">

        {% include 'components/modal_create_user.html' with title='Crear' title_modal='Crear Nuevo Usuario' modal_id='modal_create_user' %}

        
        </div>
           
            
      </div>
    </div>
  </div>
</div>



<!-- Page content -->
<div class="container-fluid mt--6">
 
  <div class="row">
    
            
         
   <div class="col">
    <div class="card px-5 pt-2 pb-5">
        
      <div class="card-header bg-transparent border-0 row">
       
        <h3 class="text-primary mb-3 text-xl col-6">{{ title }}</h3>
        {% include "components/messages_alert.html" %}
       
      </div>
      
      {% include 'components/data_table.html' with title=title headers=headers fields=fields data=data accions=accions table_id='tableUserexample' %}
      
    </div>
    </div>
  </div>
   

  {% include "includes/footer.html" %}
</div>


  


<!-- Specific JS goes HERE -->
{% block javascripts %}

  {% include "includes/scripts_data_table.html" %}
<script>  
  $(document).ready(function () {
      if (!$.fn.DataTable.isDataTable('#tableUserexample')) {
          $('#tableUserexample').DataTable({
              scrollX: true
          });
      }
  });
</script>

  <script>
        document.addEventListener('DOMContentLoaded', () => {
          const deleteButtons = document.querySelectorAll('.btn-delete');
          const deleteForm = document.getElementById('deleteForm');
            $('#tableUserexample tbody').on('click', '.delete-button', function () {
              deleteUrl = $(this).data('delete-url');
              const modal = new bootstrap.Modal(document.getElementById('deleteModal'));
              deleteForm.action = deleteUrl
              modal.show();
          });
        });

    </script>
{% endblock javascripts %}

{% endblock content %}







{% comment "" %}
 <div class="row">
    <div class="col">
      <div class="card bg-default shadow">
        <div class="card-header bg-transparent border-0">
          <h3 class="text-white mb-0">Dark table</h3>
        </div>
        <div class="table-responsive">
          <table class="table align-items-center table-dark table-flush">
            <thead class="thead-dark">
              <tr>
                <th scope="col" class="sort" data-sort="name">Project</th>
                <th scope="col" class="sort" data-sort="budget">Budget</th>
                <th scope="col" class="sort" data-sort="status">Status</th>
                <th scope="col">Users</th>
                <th scope="col" class="sort" data-sort="completion">
                  Completion
                </th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody class="list">
              <tr>
                <th scope="row">
                  <div class="media align-items-center">
                    <a href="#" class="avatar rounded-circle mr-3">
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/bootstrap.jpg' %}"
                      />
                    </a>
                    <div class="media-body">
                      <span class="name mb-0 text-sm">Argon Design System</span>
                    </div>
                  </div>
                </th>
                <td class="budget">$2500 USD</td>
                <td>
                  <span class="badge badge-dot mr-4">
                    <i class="bg-warning"></i>
                    <span class="status">pending</span>
                  </span>
                </td>
                <td>
                  <div class="avatar-group">
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Ryan Tompson"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-1.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Romina Hadid"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-2.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Alexander Smith"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-3.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Jessica Doe"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-4.jpg' %}"
                      />
                    </a>
                  </div>
                </td>
                <td>
                  <div class="d-flex align-items-center">
                    <span class="completion mr-2">60%</span>
                    <div>
                      <div class="progress">
                        <div
                          class="progress-bar bg-warning"
                          role="progressbar"
                          aria-valuenow="60"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 60%"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="text-right">
                  <div class="dropdown">
                    <a
                      class="btn btn-sm btn-icon-only text-light"
                      href="#"
                      role="button"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                    >
                      <i class="fas fa-ellipsis-v"></i>
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-right dropdown-menu-arrow"
                    >
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th scope="row">
                  <div class="media align-items-center">
                    <a href="#" class="avatar rounded-circle mr-3">
                      <img
                        alt="Image placeholder"
                        src="/static/assets/img/theme/angular.jpg"
                      />
                    </a>
                    <div class="media-body">
                      <span class="name mb-0 text-sm"
                        >Angular Now UI Kit PRO</span
                      >
                    </div>
                  </div>
                </th>
                <td class="budget">$1800 USD</td>
                <td>
                  <span class="badge badge-dot mr-4">
                    <i class="bg-success"></i>
                    <span class="status">completed</span>
                  </span>
                </td>
                <td>
                  <div class="avatar-group">
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Ryan Tompson"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-1.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Romina Hadid"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-2.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Alexander Smith"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-3.jpg' %}"
                      />
                    </a>
                    <a
                      href="#"
                      class="avatar avatar-sm rounded-circle"
                      data-toggle="tooltip"
                      data-original-title="Jessica Doe"
                    >
                      <img
                        alt="Image placeholder"
                        src="{% static 'assets/img/theme/team-4.jpg' %}"
                      />
                    </a>
                  </div>
                </td>
                <td>
                  <div class="d-flex align-items-center">
                    <span class="completion mr-2">100%</span>
                    <div>
                      <div class="progress">
                        <div
                          class="progress-bar bg-success"
                          role="progressbar"
                          aria-valuenow="100"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 100%"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="text-right">
                  <div class="dropdown">
                    <a
                      class="btn btn-sm btn-icon-only text-light"
                      href="#"
                      role="button"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                    >
                      <i class="fas fa-ellipsis-v"></i>
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-right dropdown-menu-arrow"
                    >
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                  </div>
                </td>
              </tr>
              
            </tbody>
          </table>
        </div>

        <div class="card-footer py-4 bg-transparent">
          <nav aria-label="...">
            <ul class="pagination justify-content-end mb-0">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1">
                  <i class="fas fa-angle-left"></i>
                  <span class="sr-only">Previous</span>
                </a>
              </li>
              <li class="page-item active">
                <a class="page-link" href="#">1</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="#"
                  >2 <span class="sr-only">(current)</span></a
                >
              </li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#">
                  <i class="fas fa-angle-right"></i>
                  <span class="sr-only">Next</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>

      </div>
    </div>
  </div>
{% endcomment %}

{% comment %} <script>
    document.getElementById('addButton').addEventListener('click', function() {
      var fieldNames = ['ID', 'PurchaseID', 'ItemName', 'BuyerName', 'PurchaseEmail', 'BuyerEmail', 'Donotcontact', 'PurchaseDate', 'PurchaseTimeUTCtimezone', 'SubtotalUSD', 'TaxesUSD', 'ShippingUSD', 'SalePriceUSD', 'GumroadFeeUSD', 'NetTotalUSD', 'TaxIncludedinPrice', 'StreetAddress', 'City', 'ZipCode', 'State', 'Country', 'Referrer', 'Refunded', 'PartialRefundUSD', 'FullyRefunded', 'Disputed', 'DisputeWon', 'Variants', 'DiscountCode', 'RecurringCharge', 'Preorderauthorization', 'ProductID', 'OrderNumber', 'PreorderauthorizationtimeUTCtimezone', 'CustomFields', 'ItemPriceUSD', 'VariantsPriceUSD', 'ImportedCustomer', 'GifteeEmail', 'SKUID', 'Quantity', 'Recurrence', 'Affiliate', 'AffiliatecommissionUSD', 'Discover', 'SubscriptionEndedDate', 'Rating', 'LicenseKey', 'PaymentType', 'PayPalTransactionID'];
  
      var template = `
        <div class="input-container d-flex align-items-center gap-3 mb-3">
          <div class="d-flex">
            <select name="key" class="custom-select rounded mr-3">
              ${fieldNames.map(option => `<option value="${option}">${option}</option>`).join('')}
            </select>
            <input name="value" class="form-control rounded mr-3" type="text" placeholder="Enter value">
          </div>
          <button class="remove-button btn btn-danger" onclick="removeInputContainer(this)">X</button>
        </div>
      `;
  
      var tempDiv = document.createElement('div');
      tempDiv.innerHTML = template;
  
      document.getElementById('inputContainer').appendChild(tempDiv);
  
      document.getElementById('submitButton').style.display = 'inline-block';
    });
  
    function removeInputContainer(element) {
      var inputContainer = element.closest('.input-container');
  
      inputContainer.remove();
      
      var inputContainers = document.getElementsByClassName('input-container');
      if (inputContainers.length === 0) {
        document.getElementById('submitButton').style.display = 'none';
      }
    }
  </script>
  
  
  <script>
    function getPageItems(selectObject) {
      var value = selectObject.value;
    
      fetch('/tables/create-page-items/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
          'X-CSRFToken': 'kqvIvNSTCIpbRYv33j1Rcns6hT3IXOoKM8ZyjTTnqk2PQqCZVC1VtCctofIKdZfr',
        },
        body: `items=${value}`
      })
      .then(response => {
        location.reload()
      })
    }
</script> {% endcomment %}
  